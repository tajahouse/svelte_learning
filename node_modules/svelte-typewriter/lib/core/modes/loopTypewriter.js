import{unwriteEffect as e}from"../helpers/unwriteEffect.js";import{writeEffect as t}from"../helpers/writeEffect.js";import{getRandomElement as o}from"../helpers/getRandomElement.js";const r=async(o,{currentNode:r,text:n},a)=>{await t({currentNode:r,text:n},a);const s=n.replaceAll("&","&amp;");r.innerHTML===s&&await e(r,a)},n=async({node:e,elements:t},n)=>{for(;;)if(n.loop)for(const e of t)await r(0,e,n);else if(n.loopRandom){const e=o(t);await r(0,e,n)}};export{n as mode};
