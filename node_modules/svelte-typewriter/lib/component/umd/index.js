!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Typewriter=t()}(this,(function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function s(e,t,n,o,r,c,s){const a=function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(t,o,r,c);if(a){const r=i(t,n,o,s);e.p(r,a)}}function a(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function d(){return e="",document.createTextNode(e);var e}function f(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function p(e,t,n){e.classList[n?"add":"remove"](t)}let m;function h(e){m=e}function y(){if(!m)throw new Error("Function called outside component initialization");return m}function g(){const e=y();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const $=[],b=[],x=[],v=[],_=Promise.resolve();let w=!1;function E(e){x.push(e)}let L=!1;const T=new Set;function N(){if(!L){L=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];h(t),M(t.$$)}for(h(null),$.length=0;b.length;)b.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];T.has(t)||(T.add(t),t())}x.length=0}while($.length);for(;v.length;)v.pop()();w=!1,L=!1,T.clear()}}function M(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(E)}}const k=new Set;let C;function A(e,t){e&&e.i&&(k.delete(e),e.i(t))}function H(e,t,n,o){if(e&&e.o){if(k.has(e))return;k.add(e),C.c.push((()=>{k.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function j(e,t){-1===e.$$.dirty[0]&&($.push(e),w||(w=!0,_.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function O(c,i,s,a,u,d,f=[-1]){const p=m;h(c);const y=i.props||{},g=c.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let $=!1;if(g.ctx=s?s(c,y,((e,t,...n)=>{const o=n.length?n[0]:t;return g.ctx&&u(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),$&&j(c,e)),t})):[],g.update(),$=!0,o(g.before_update),g.fragment=!!a&&a(g.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);g.fragment&&g.fragment.l(e),e.forEach(l)}else g.fragment&&g.fragment.c();i.intro&&A(c.$$.fragment),function(e,n,c){const{fragment:i,on_mount:s,on_destroy:a,after_update:l}=e.$$;i&&i.m(n,c),E((()=>{const n=s.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]})),l.forEach(E)}(c,i.target,i.anchor),N()}h(p)}const P=(e,t)=>{const n=document.createElement(t);return n.textContent=e,n},R=e=>1===e.childNodes.length&&3===e.childNodes[0].nodeType,z=e=>{if(R(e)){const t=e.textContent,n=P(e.textContent,"p");return e.textContent="",e.appendChild(n),[{currentNode:n,text:t}]}return[...e.children].map((e=>{const t=e.innerHTML.replaceAll("&amp;","&");return{currentNode:e,text:t}}))},I=async(e,t)=>{const{mode:n}=(t.loop||t.loopRandom)&&await Promise.resolve().then((function(){return W}))||t.scramble&&await Promise.resolve().then((function(){return ne}))||await Promise.resolve().then((function(){return re})),o=z(e);if(t.delay>0){const{sleep:n}=await Promise.resolve().then((function(){return ie}));await n(t.delay),e.classList.remove("delay")}n({node:e,elements:o},t)};function S(t){let n,o,c,d,m;const h=t[10].default,y=function(e,t,n,o){if(e){const r=i(e,t,n,o);return e[0](r)}}(h,t,t[9],null);return{c(){var e,o,r;n=u("div"),y&&y.c(),e=n,o="class",null==(r="typewriter-container svelte-1xd0fu9")?e.removeAttribute(o):e.getAttribute(o)!==r&&e.setAttribute(o,r),f(n,"--cursor-color","string"==typeof t[0]?t[0]:"black"),p(n,"cursor",t[0]),p(n,"delay",t[2].delay>0)},m(i,s){var l;a(i,n,s),y&&y.m(n,null),c=!0,d||(l=o=I.call(null,n,t[2]),m=l&&r(l.destroy)?l.destroy:e,d=!0)},p(e,t){y&&y.p&&512&t&&s(y,h,e,e[9],t,null,null),(!c||1&t)&&f(n,"--cursor-color","string"==typeof e[0]?e[0]:"black"),o&&r(o.update)&&4&t&&o.update.call(null,e[2]),1&t&&p(n,"cursor",e[0]),4&t&&p(n,"delay",e[2].delay>0)},i(e){c||(A(y,e),c=!0)},o(e){H(y,e),c=!1},d(e){e&&l(n),y&&y.d(e),d=!1,m()}}}function F(t){let n,r,i=t[1],s=S(t);return{c(){s.c(),n=d()},m(e,t){s.m(e,t),a(e,n,t),r=!0},p(t,[r]){2&r&&c(i,i=t[1])?(C={r:0,c:[],p:C},H(s,1,1,e),C.r||o(C.c),C=C.p,s=S(t),s.c(),A(s),s.m(n.parentNode,n)):s.p(t,r)},i(e){r||(A(s),r=!0)},o(e){H(s),r=!1},d(e){e&&l(n),s.d(e)}}}function B(e,t,n){let{$$slots:o={},$$scope:r}=t,{interval:c=30}=t,{cascade:i=!1}=t,{loop:s=!1}=t,{loopRandom:a=!1}=t,{scramble:l=!1}=t,{cursor:u=!0}=t,{delay:d=0}=t,f=!1,p={};const m=g();var h;let $;return h=()=>f&&n(1,p={}),y().$$.before_update.push(h),function(e){y().$$.on_mount.push(e)}((()=>f=!0)),e.$$set=e=>{"interval"in e&&n(3,c=e.interval),"cascade"in e&&n(4,i=e.cascade),"loop"in e&&n(5,s=e.loop),"loopRandom"in e&&n(6,a=e.loopRandom),"scramble"in e&&n(7,l=e.scramble),"cursor"in e&&n(0,u=e.cursor),"delay"in e&&n(8,d=e.delay),"$$scope"in e&&n(9,r=e.$$scope)},e.$$.update=()=>{505&e.$$.dirty&&n(2,$={interval:c,cascade:i,loop:s,loopRandom:a,scramble:l,cursor:u,delay:d,dispatch:m})},[u,p,$,c,i,s,a,l,d,r,o]}const D=(e,t)=>Math.floor(Math.random()*(t-e)+e),q=e=>new Promise((t=>setTimeout(t,e))),G=async e=>q(Array.isArray(e)?e[D(0,e.length)]:e),J=async(e,t)=>{t.dispatch("done"),await G("number"==typeof t.loop?t.loop:1500);const n=e.innerHTML.replaceAll("&amp;","&");for(let o=n.length-1;o>=0;o--)">"===n[o]&&(o=n.lastIndexOf("<",o)),e.innerHTML=n.slice(0,o),await G(t.interval)},K=async({currentNode:e,text:t},n)=>{e.classList.add("typing");for(let o=0;o<=t.length;o++)"<"===t[o]&&(o=t.indexOf(">",o)),e.innerHTML=t.slice(0,o),await G(n.interval);e.classList.replace("typing","finished-typing")};let Q=[];const U=e=>{for(;;){const t=D(0,e.length),n="number"==typeof Q&&t!==Q;if(Array.isArray(Q)&&!Q.includes(t)||n)return n&&(Q=[]),Q.push(t),e[t];Q.length===e.length&&(Q=Q.pop())}},V=async(e,{currentNode:t,text:n},o)=>{await K({currentNode:t,text:n},o);const r=n.replaceAll("&","&amp;");t.innerHTML===r&&await J(t,o)};var W=Object.freeze({__proto__:null,mode:async({node:e,elements:t},n)=>{for(;;)if(n.loop)for(const e of t)await V(0,e,n);else if(n.loopRandom){const e=U(t);await V(0,e,n)}}});const X=(e,[t,n])=>e>=t&&e<=n;let Y=[];const Z=e=>Y.find((t=>t.currentNode===e)),ee=e=>{const t=(e=>{const t=/(<([^>]+)>)/g,n=[];let o;for(;null!==(o=t.exec(e.innerHTML));){const e=o.index,r=t.lastIndex;n.push([e,r-1])}return n})(e),n=e.innerHTML.split("").map(((n,o)=>{const{matchingLetters:r}=Z(e),c=r.includes(o)||n.match(/\s+/g)||((e,t)=>t.some((([t,n])=>X(e,[t,n]))))(o,t),i=String.fromCharCode(65+Math.round(50*Math.random()));return c?n:i})).join("");e.innerHTML=n},te=(e,t)=>{const n=e.innerHTML;for(let o=0;o<t.length;o++){const r=t[o],{matchingLetters:c}=Z(e);!c.includes(o)&&r===n[o]&&c.push(o)}};var ne=Object.freeze({__proto__:null,mode:async({elements:e},t)=>{Y=[...e.map((({currentNode:e})=>({currentNode:e,matchingLetters:[]})))],await new Promise((n=>{e.forEach((async({currentNode:e,text:o})=>{const r="number"==typeof t.scramble?t.scramble:3e3,c=(new Date).getTime();for(;;){ee(e),te(e,o),await G(t.interval);const i=e.innerHTML!=o,s=(new Date).getTime()-c<r;if(!i||!s){n();break}}e.innerHTML=o}))})),t.dispatch("done")}});const oe=(e,t)=>{new MutationObserver((e=>{e.forEach((e=>{const n="attributes"===e.type,o=!e.target.classList.contains("typing");n&&o&&t()}))})).observe(e,{attributes:!0,childList:!0,subtree:!0})};var re=Object.freeze({__proto__:null,mode:async({elements:e},t)=>{if(t.cascade)(e=>{e.forEach((e=>e.currentNode.textContent=""))})(e);else{const{getLongestTextElement:n}=await Promise.resolve().then((function(){return ie})),o=n(e);oe(o,(()=>t.dispatch("done")))}for(const n of e)t.cascade?await K(n,t):K(n,t);t.cascade&&t.dispatch("done")}});const ce=(e,t)=>t.text.length-e.text.length;var ie=Object.freeze({__proto__:null,cleanChildNodes:e=>e.childNodes.forEach((e=>e.remove())),createElement:P,getElements:z,hasSingleTextNode:R,rng:D,sleep:q,typingInterval:G,unwriteEffect:J,isInRange:X,writeEffect:K,getLongestTextElement:e=>e.sort(ce)[0].currentNode,onAnimationEnd:oe,getRandomElement:U});return class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){var t,n,o;super(),document.getElementById("svelte-1xd0fu9-style")||((o=u("style")).id="svelte-1xd0fu9-style",o.textContent="@keyframes svelte-1xd0fu9-cursorFade{0%,100%{opacity:1}50%{opacity:0}}.typewriter-container.svelte-1xd0fu9>*:not(.typing):not(.finished-typing){display:none}.typewriter-container.svelte-1xd0fu9 .finished-typing::after{content:none}.cursor.svelte-1xd0fu9 .typing::after{content:'â–Œ';display:inline-block;color:var(--cursor-color);animation:svelte-1xd0fu9-cursorFade 1.25s infinite}.delay.svelte-1xd0fu9{visibility:hidden}",t=document.head,n=o,t.appendChild(n)),O(this,e,B,F,c,{interval:3,cascade:4,loop:5,loopRandom:6,scramble:7,cursor:0,delay:8})}}}));
